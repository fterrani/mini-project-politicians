<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">

    <ui:define name="title">List of all parties</ui:define>
    <ui:define name="content">
        
        <h:form>
        	<h:commandButton action="#{politicsManagedBean.populateDB}" value="Let's populate that DB!" />
        </h:form>
        
        <h:dataTable value="#{politicsManagedBean.parties}" var="party">
        	<h:column>
        		<f:facet name="header">Party name</f:facet>
        		#{party.name}
        	</h:column>
        	<h:column>
        		<f:facet name="header">See details</f:facet>
        		<h:form>
			        <h:commandLink action="#{politicsManagedBean.seePartyDetails}">
			        	<h:outputText value="See details" />
			        	<f:setPropertyActionListener target="#{politicsManagedBean.party}" value="#{party}" />
			        </h:commandLink>
        		</h:form>
        	</h:column>
		</h:dataTable>
		
    </ui:define>
</ui:composition>
</html>